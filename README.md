# Interactive Brokers Tax
Данный скрипт автоматически формирмирует пояснительную записку к декларации 3-НДФЛ на основании отчетов Interactive Brokers.
## Подготовка к использованию:
1) Установите Python 3+
2) Скачайте архив со скриптом `(Clone or Download->Download ZIP)` и распакуйте его в произвольную папку на компьютере
3) Скачайте годовые отчеты брокера из личного кабинета брокера в формате .csv (необходимы за все года для корректного расчета сделок продажи), переименуйте их в {год отчета}.csv (например "2018.csv") и положите в папку со скриптом
4) Исправьте дату открытия счета в скрипте `ib.py` на свою (строка `StartDate = "20.03.2019"`)
5) Выполните установку необходимых пакетов Python при помощи команды в консоли, запущеной от имени администратора:
```bash
pip install -r requirements.txt
```
## Использование:
1) Запустите скрипт командой в консоли
```bash
python ib.py
```
2) По запросу, введите первый год, на который есть отчет (например "2018")
3) Дождитесь появления надписи "Готово" и нажмите Enter. Скрипт должен сформировать вашу пояснительную записку в формате `.docx` и открыть его
4) Повторите п.2-3 для всех годов (нужно делать только в первый раз, дальше - только подотчетный год)
5) Внесите в раздел `Доходы за пределами РФ` декларации 3-НДФЛ следующие доходы *в рублях*(!!!) с датой 31 декабря подотчетного года:
- `Источник выплат` - "Interactive Brokers (дивиденды)". `Полученный доход` и `Налог, уплаченный в иностранном государстве` - {ваши суммы из пояснительной записки}
- `Источник выплат` - "Interactive Brokers (операции с ЦБ)". `Полученный доход` и `Сумма вычета (расхода) в рублях (код вычета - 201)` - {ваши суммы из пояснительной записки}
## Дополнительная информация
Данный скрипт также можно использовать и до окончания текущего налогового периода для понимания того, сколько на данный момент (по итогам года) потребуется заплатить налогов. В этом случае, нужно скачать отчет с начала года до текущей даты и положить его к остальным. При этом сценарии использования, скрипт предложит внести дополнительные сделки, которых нет в отчете (например, планируемые сделки) и сформирует отчет с учетом них, а также сам предложит сделки для налоговой оптимизации.

Если скрипт сэкономил вам время, можете поблагодарить автора:

[![Donate](https://img.shields.io/badge/donate-Yandex-red.svg)](https://money.yandex.ru/to/41001607398287)